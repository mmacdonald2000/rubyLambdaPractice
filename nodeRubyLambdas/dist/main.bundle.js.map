{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node/decryption.js","webpack:///./node/encryption.js","webpack:///./node/handler.js","webpack:///external \"aws-sdk\"","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"lodash\"","webpack:///external \"source-map-support/register\""],"names":["aws","require","_","module","exports","decryption","event","context","callback","emLicenseDecrypt","decryptPayload","to_decrypt","lambda","Lambda","region","params","FunctionName","InvocationType","LogType","Payload","console","log","decrypted","invoke","err","data","stack","unencrypted","JSON","parse","testdependency","join","encryption","emLicenseEncrypt","id","sn","host_id","type","start_date","Date","end_date","connections","encryptPayload","to_encrypt","encrypted","main"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// Node Lambda to call Ruby Lambda\nvar aws = require('aws-sdk');\nconst _ = require('lodash');\n\nmodule.exports.decryption= function (event, context, callback) {\n\n  const emLicenseDecrypt = 'ae/ci2iRkRubT0+k/GwzU2kr5+6b/2htcA0Ww5RMmlO9LqSqYTV+2mW+3C4ylwNb9Bv1oBdYCz3f8qRc9NWFsY2Fn8wNGQncW7Pq53MrihRufZT7LDAYsni5rfHQp1gV+a/23aa+My8SzmXXut3I28auewbAD8mbxYfTAd+hnFLFeRVnIkkGUIUoGUlJypBf6LJPwceBRsPBSM0ATaIJ8YvW2SXkP1SjkwQL2fHn6S8=';\n\n  const decryptPayload = { to_decrypt: `${emLicenseDecrypt}` };\n\n\n  const lambda = new aws.Lambda({\n    region: 'us-west-2'\n  })\n\n  const params = {\n    FunctionName: \"nodeRubyLambdas-dev-rubyEncryption\",\n    InvocationType: \"RequestResponse\",\n    LogType: \"Tail\",\n    Payload: JSON.stringify(decryptPayload),\n  };\n\n  // Invoke the Ruby Lambda to decrypt some data\n  console.log(\"Decrypting data\");\n\n\n  const decrypted = () => lambda.invoke(params, function(err, data){\n    if(err){\n      console.log(\"decrypt failure\");\n      console.log(err,err.stack);\n    } else {\n      console.log(\"decrypt success\");\n      console.log(data);\n      var unencrypted = JSON.parse(data.Payload);\n      console.log(\"unencrypted: \", unencrypted);\n      return unencrypted;\n    }\n  });\n\n\n\n  const testdependency = _.join(['Hello', 'webpack'], ' ');\n  console.log(testdependency);\n\n\n\n}\n","// Node Lambda to call Ruby Lambda\nvar aws = require('aws-sdk');\n\nmodule.exports.encryption = function (event, context, callback) {\n\n  var emLicenseEncrypt = {\n    id: 45,\n    sn: 12345,\n    host_id: '3a:00:a8:40:42:00',\n    type: 'eM',\n    start_date: new Date(),\n    end_date: new Date(2022, 2, 5, 8),\n    connections: 1,\n  };\n\n  var encryptPayload = { to_encrypt: emLicenseEncrypt };\n\n  var lambda = new aws.Lambda({\n    region: 'us-west-2'\n  })\n\n  var params = {\n    FunctionName: \"nodeRubyLambdas-dev-rubyEncryption\",\n    InvocationType: \"RequestResponse\",\n    LogType: \"Tail\",\n    Payload: JSON.stringify(encryptPayload),\n  };\n\n  // Invoke the Ruby Lambda to encrypt some data\n  console.log(\"Encrypting data\");\n\n  var encrypted = lambda.invoke(params, function(err, data){\n    if (err) {\n      console.log(\"Encrypt Failure\");\n      console.log(err, err.stack);\n    } else {\n      console.log(\"Encrypt Success\");\n      var encrypted = JSON.parse(data.Payload)\n      console.log(encrypted);\n      return encrypted;\n    }\n  });\n\n}\n","// Node Lambda to call Ruby Lambda\nvar aws = require('aws-sdk');\n\nmodule.exports.main = function (event, context, callback) {\n  // to access event variables:\n  // event.variable_name\n\n  var emLicenseEncrypt = {\n    id: 45,\n    sn: 12345,\n    host_id: '3a:00:a8:40:42:00',\n    type: 'eM',\n    start_date: new Date(),\n    end_date: new Date(2022, 2, 5, 8),\n    connections: 1,\n  };\n\n  var emLicenseDecrypt = 'ae/ci2iRkRubT0+k/GwzU2kr5+6b/2htcA0Ww5RMmlO9LqSqYTV+2mW+3C4ylwNb9Bv1oBdYCz3f8qRc9NWFsY2Fn8wNGQncW7Pq53MrihRufZT7LDAYsni5rfHQp1gV+a/23aa+My8SzmXXut3I28auewbAD8mbxYfTAd+hnFLFeRVnIkkGUIUoGUlJypBf6LJPwceBRsPBSM0ATaIJ8YvW2SXkP1SjkwQL2fHn6S8=';\n\n  var encryptPayload = { to_encrypt: emLicenseEncrypt };\n  var decryptPayload = { to_decrypt: `${emLicenseDecrypt}` };\n\n\n  var lambda = new aws.Lambda({\n    region: 'us-west-2'\n  })\n\n  var params = {\n    FunctionName: \"nodeRubyLambdas-dev-rubyEncryption\",\n    InvocationType: \"RequestResponse\",\n    LogType: \"Tail\",\n    Payload: JSON.stringify(encryptPayload),\n  };\n\n  // Invoke the Ruby Lambda to encrypt some data\n  console.log(\"Encrypting data\");\n\n  var encrypted = lambda.invoke(params, function(err, data){\n    if (err) {\n      console.log(\"Encrypt Failure\");\n      console.log(err, err.stack);\n    } else {\n      console.log(\"Encrypt Success\");\n      var encrypted = JSON.parse(data.Payload)\n      console.log(encrypted);\n      return encrypted;\n    }\n  });\n\n  // // To see decryption: uncomment this section and comment out Lines 36 - 48\n  //\n  // // Invoke the Ruby Lambda to decrypt some data\n  // console.log(\"Decrypting data\");\n  //\n  // params.Payload = JSON.stringify(decryptPayload);\n  //\n  // var decrypted = lambda.invoke(params, function(err, data){\n  //   if(err){\n  //     console.log(\"decrypt failure\");\n  //     console.log(err,err.stack);\n  //   } else {\n  //     console.log(\"decrypt success\");\n  //     console.log(data);\n  //     var unencrypted = JSON.parse(data.Payload);\n  //     console.log(\"unencrypted: \", unencrypted);\n  //     return unencrypted;\n  //   }\n  // });\n\n}\n","module.exports = require(\"aws-sdk\");","module.exports = require(\"babel-runtime/core-js/json/stringify\");","module.exports = require(\"lodash\");","module.exports = require(\"source-map-support/register\");"],"sourceRoot":""}